<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="css/list.css" rel="stylesheet" type="text/css" media="all" />
    <script src="js/jquery.min.js"></script>
    <script src="js/list.js"></script>
    <link rel="StyleSheet" href="css/dtree.css" type="text/css" />
    <script type="text/javascript" src="js/dtree.js"></script>
    <script type="text/javascript">
    </script>
    <title>问卷列表</title>
</head>

<body onLoad="initQuestionnaire()">
    <script>
        /*菜单设置*/
        var Menu = require('electron').remote.Menu;

        var template = [{
                label: '文件',
                submenu: [{
                        label: "注销",
                        enabled: true,
                        click: function() {
                            window.location.href = "./login.html";
                        }
                    },
                    {
                        label: '退出',
                        enabled: true,
                        accelerator: "CmdOrCtrl+E",
                        role: "close"
                    }
                ]
            },
            {
                label: '编辑',
                submenu: [{
                        label: '撤销',
                        enabled: true,
                        accelerator: 'CmdOrCtrl+Z',
                        role: 'undo'
                    },
                    {
                        label: '重复',
                        enabled: true,
                        accelerator: 'Shift+CmdOrCtrl+Z',
                        role: 'redo'
                    },
                    {
                        type: 'separator'
                    },
                    {
                        label: '剪切',
                        enabled: true,
                        accelerator: "CmdOrCtrl+X",
                        role: "cut"
                    },
                    {
                        label: '复制',
                        enabled: true,
                        role: "copy",
                        accelerator: "CmdOrCtrl+C"
                    },
                    {
                        label: '粘贴',
                        enabled: true,
                        role: "paste",
                        accelerator: "CmdOrCtrl+V"
                    },
                    {
                        label: '全选',
                        enabled: true,
                        role: "selectall",
                        accelerator: "CmdOrCtrl+A"
                    }
                ]
            },
            {
                label: '查看',
                submenu: [{
                        label: '重新加载',
                        enabled: true,
                        accelerator: 'CmdOrCtrl+R',
                        // click: function(item, focusedWindow) {
                        // 	if (focusedWindow)
                        // 		focusedWindow.reload();
                        // }
                    },
                    {
                        type: 'separator'
                    },
                    {
                        label: '默认大小',
                        enabled: true
                    },
                    {
                        label: '放大',
                        enabled: true
                    },
                    {
                        label: '缩小',
                        enabled: true
                    },
                    {
                        type: 'separator'
                    },
                    {
                        label: '切换全屏',
                        enabled: true,
                        accelerator: (function() {
                            if (process.platform == 'darwin')
                                return 'Ctrl+Command+F';
                            else
                                return 'F11';
                        })(),
                        click: function(item, focusedWindow) {
                            if (focusedWindow)
                                focusedWindow.setFullScreen(!focusedWindow.isFullScreen());
                        }
                    },
                    {
                        label: '开发者工具',
                        accelerator: (function() {
                            if (process.platform == 'darwin')
                                return 'Alt+Command+I';
                            else
                                return 'Ctrl+Shift+I';
                        })(),
                        click: function(item, focusedWindow) {
                            if (focusedWindow)
                                focusedWindow.toggleDevTools();
                        }
                    }
                ]
            },
            {
                label: '窗口',
                submenu: [{
                        label: '最小化',
                        enabled: true,
                        accelerator: 'CmdOrCtrl+M',
                        role: 'minimize'
                    },
                    {
                        label: '关闭',
                        enabled: true,
                        accelerator: "CmdOrCtrl+E",
                        role: "close"
                    }
                ]
            },
            {
                label: '帮助',
                role: "help",
                submenu: [{
                        label: '了解更多',
                        enabled: true,
                        click: function() {
                            window.location.href = "./404.html";
                        }
                    },
                    {
                        label: '文档',
                        enabled: true,
                        click: function() {
                            window.location.href = "./404.html";
                        }
                    },
                    {
                        label: '社区讨论',
                        enabled: true,
                        click: function() {
                            window.location.href = "./404.html";
                        }
                    },
                    {
                        label: '关于我们',
                        enabled: true,
                        click: function() {
                            window.location.href = "./about.html";
                        }
                    }
                ]
            }
        ];
        var menu = Menu.buildFromTemplate(template);
        Menu.setApplicationMenu(menu);
    </script>

    <div id="head">
        <div id="dropBox">
            <div class="dropBox_wrp">
                <div class="dropBox_inp dropBox_tri">由新到旧</div>
                <a href="#" class="dropBox_tri"></a>
            </div>
            <div class="dropBox_drop" style="display:none">
                <ul>
                    <li>由新到旧</li>
                    <li>由旧到新</li>
                </ul>
            </div>
        </div>
        <div id="newButton"><a id="back" href="./design.html">新建 +</a></div>
        <div id="searchBar">
            <form action="#" name="search">
                <table border="0" align="center" cellpadding="0" cellspacing="0" class="tab_search">
                    <tr>
                        <td>
                            <input type="text" name="q" title="Search" class="searchinput" id="searchinput" onkeydown="if (event.keyCode==13) {}" onblur="if(this.value=='')value='请输入关键字搜索';" onfocus="if(this.value=='请输入关键字搜索')value='';" value="请输入关键字搜索" size="10" />
                        </td>
                        <td>
                            <input type="image" width="21" height="17" class="searchaction" onclick="if(document.forms['search'].searchinput.value=='请输入关键字搜索')document.forms['search'].searchinput.value='';" alt="Search" src="./images/search.png" border="0" hspace="2" />
                        </td>
                    </tr>
                </table>
            </form>
        </div>
    </div>
    <div id="middle">
        <div id="tree">
            <div class="dtree">

                <p><a href="javascript: d.openAll();">全部展开</a> | <a href="javascript: d.closeAll();">全部收起</a></p>
                <script type="text/javascript">
                    // initTree();
                </script>

            </div>
        </div>
        <div id="list">
            <table id="headTable">
                <tr id="headTr">
                    <td id="titleTd">标题</td>
                    <td id="codeTd">编码</td>
                    <td id="syncTd">同步状态</td>
                    <td id="editTd">编辑时间</td>
                    <td id="operTd">操作</td>
                </tr>
            </table>
        </div>
    </div>
</body>

<script type="text/javascript">
    // 下拉列表js
    (function($) {
        var $dropBox = $('#dropBox'),
            $tri = $('.dropBox_tri', $dropBox),
            $drop = $('div.dropBox_drop', $dropBox),
            $inp = $('div.dropBox_inp', $dropBox);

        $tri.on('click', function(event) {
            var $el = $(this);
            if ($el.data('active') !== 'on') {
                $drop[0].style.display = 'block';
                $el.data('active', 'on');
            } else {
                $drop[0].style.display = 'none';
                $el.data('active', 'off');
            }
        });

        $drop.on('mouseover', 'li').on('click', 'li', function(event) {
            $inp[0].innerHTML = this.innerHTML;
            $drop[0].style.display = 'none';
            $tri.data('active', 'off');
            /*局部刷新*/
        });
    }(jQuery));
</script>

</html>
